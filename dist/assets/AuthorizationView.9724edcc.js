import{d as $,r as w,h as B,b as x,p as de,w as ce,F as V,e as G,f as K,i as pe,_ as M,o as P,c as R,g as ve,v as fe,a as g,n as W,j as H,t as T,u as J,k as Q,l as X,m as Y,q as Z,s as p,x as f,y as ee,z as te,A as ae,B as y,C,D as L,E as me,G as he}from"./index.234d245d.js";import{u as le,a as se}from"./index.esm.dbe50262.js";import{t as be,N as ye,o as j,_ as _e,U as ge,f as xe}from"./transition.88ee677d.js";import{R as we}from"./index.6323af05.js";import{a as $e,f as ne,o as A,P as F,w as Ie,t as oe,b as Se,R as z,c as I,N as D,m as Pe,d as O,M as S,u as ke}from"./hidden.84daa50f.js";let Te=$({props:{onFocus:{type:Function,required:!0}},setup(t){let o=w(!0);return()=>o.value?B(ne,{as:"button",type:"button",features:$e.Focusable,onFocus(s){s.preventDefault();let r,e=50;function i(){var n;if(e--<=0){r&&cancelAnimationFrame(r);return}if((n=t.onFocus)!=null&&n.call(t)){o.value=!1,cancelAnimationFrame(r);return}r=requestAnimationFrame(i)}r=requestAnimationFrame(i)}}):null}}),re=Symbol("TabsContext");function E(t){let o=pe(re,null);if(o===null){let s=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,E),s}return o}let Ae=$({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:o,attrs:s,emit:r}){let e=w(null),i=w([]),n=w([]),b=x(()=>t.selectedIndex!==null),d=x(()=>b.value?t.selectedIndex:e.value),m={selectedIndex:e,orientation:x(()=>t.vertical?"vertical":"horizontal"),activation:x(()=>t.manual?"manual":"auto"),tabs:i,panels:n,setSelectedIndex(u){d.value!==u&&r("change",u),b.value||(e.value=u)},registerTab(u){i.value.includes(u)||i.value.push(u)},unregisterTab(u){let a=i.value.indexOf(u);a!==-1&&i.value.splice(a,1)},registerPanel(u){n.value.includes(u)||n.value.push(u)},unregisterPanel(u){let a=n.value.indexOf(u);a!==-1&&n.value.splice(a,1)}};return de(re,m),ce(()=>{var u;if(m.tabs.value.length<=0||t.selectedIndex===null&&e.value!==null)return;let a=m.tabs.value.map(c=>A(c)).filter(Boolean),v=a.filter(c=>!c.hasAttribute("disabled")),_=(u=t.selectedIndex)!=null?u:t.defaultIndex;if(_<0)e.value=a.indexOf(v[0]);else if(_>m.tabs.value.length)e.value=a.indexOf(v[v.length-1]);else{let c=a.slice(0,_),l=[...a.slice(_),...c].find(h=>v.includes(h));if(!l)return;e.value=a.indexOf(l)}}),()=>{let u={selectedIndex:e.value};return B(V,[i.value.length<=0&&B(Te,{onFocus:()=>{for(let a of i.value){let v=A(a);if((v==null?void 0:v.tabIndex)===0)return v.focus(),!0}return!1}}),F({theirProps:{...s,...Ie(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:u,slots:o,attrs:s,name:"TabGroup"})])}}}),Re=$({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:o,slots:s}){let r=E("TabList");return()=>{let e={selectedIndex:r.selectedIndex.value},i={role:"tablist","aria-orientation":r.orientation.value};return F({ourProps:i,theirProps:t,slot:e,attrs:o,slots:s,name:"TabList"})}}}),qe=$({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1}},setup(t,{attrs:o,slots:s,expose:r}){let e=E("Tab"),i=`headlessui-tabs-tab-${oe()}`,n=w(null);r({el:n,$el:n}),G(()=>e.registerTab(n)),K(()=>e.unregisterTab(n));let b=x(()=>e.tabs.value.indexOf(n)),d=x(()=>b.value===e.selectedIndex.value);function m(l){var h;let q=l();if(q===D.Success&&e.activation.value==="auto"){let ie=(h=Pe(n))==null?void 0:h.activeElement,N=e.tabs.value.findIndex(ue=>A(ue)===ie);N!==-1&&e.setSelectedIndex(N)}return q}function u(l){let h=e.tabs.value.map(q=>A(q)).filter(Boolean);if(l.key===I.Space||l.key===I.Enter){l.preventDefault(),l.stopPropagation(),e.setSelectedIndex(b.value);return}switch(l.key){case I.Home:case I.PageUp:return l.preventDefault(),l.stopPropagation(),m(()=>O(h,S.First));case I.End:case I.PageDown:return l.preventDefault(),l.stopPropagation(),m(()=>O(h,S.Last))}if(m(()=>ke(e.orientation.value,{vertical(){return l.key===I.ArrowUp?O(h,S.Previous|S.WrapAround):l.key===I.ArrowDown?O(h,S.Next|S.WrapAround):D.Error},horizontal(){return l.key===I.ArrowLeft?O(h,S.Previous|S.WrapAround):l.key===I.ArrowRight?O(h,S.Next|S.WrapAround):D.Error}}))===D.Success)return l.preventDefault()}let a=w(!1);function v(){var l;a.value||(a.value=!0,!t.disabled&&((l=A(n))==null||l.focus(),e.setSelectedIndex(b.value),be(()=>{a.value=!1})))}function _(l){l.preventDefault()}let c=Se(x(()=>({as:t.as,type:o.type})),n);return()=>{var l;let h={selected:d.value},q={ref:n,onKeydown:u,onMousedown:_,onClick:v,id:i,role:"tab",type:c.value,"aria-controls":(l=A(e.panels.value[b.value]))==null?void 0:l.id,"aria-selected":d.value,tabIndex:d.value?0:-1,disabled:t.disabled?!0:void 0};return F({ourProps:q,theirProps:t,slot:h,attrs:o,slots:s,name:"Tab"})}}}),Oe=$({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:o,attrs:s}){let r=E("TabPanels");return()=>{let e={selectedIndex:r.selectedIndex.value};return F({theirProps:t,ourProps:{},slot:e,attrs:s,slots:o,name:"TabPanels"})}}}),U=$({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:o,slots:s,expose:r}){let e=E("TabPanel"),i=`headlessui-tabs-panel-${oe()}`,n=w(null);r({el:n,$el:n}),G(()=>e.registerPanel(n)),K(()=>e.unregisterPanel(n));let b=x(()=>e.panels.value.indexOf(n)),d=x(()=>b.value===e.selectedIndex.value);return()=>{var m;let u={selected:d.value},a={ref:n,id:i,role:"tabpanel","aria-labelledby":(m=A(e.tabs.value[b.value]))==null?void 0:m.id,tabIndex:d.value?0:-1};return!d.value&&t.unmount&&!t.static?B(ne,{as:"span",...a}):F({ourProps:a,theirProps:t,slot:u,attrs:o,slots:s,features:z.Static|z.RenderStrategy,visible:d.value,name:"TabPanel"})}}});const Fe={class:"outer"},Ee=["type","placeholder"],De={class:"ml-1 text-sm text-error"},Le=$({__name:"ValidationInput",props:{type:null,validation:null,placeholder:null},setup(t){return(o,s)=>(P(),R("div",Fe,[ve(g("input",{class:W(["form-control w-full",{"is-invalid":t.validation.$error,"is-valid":!t.validation.$invalid,"animate-shake":t.validation.$externalResults.length>0}]),type:t.type||"text",placeholder:t.placeholder,"onUpdate:modelValue":s[0]||(s[0]=r=>t.validation.$model=r)},null,10,Ee),[[fe,t.validation.$model]]),(P(!0),R(V,null,H(t.validation.$errors,r=>(P(),R("div",De,T(r.$message),1))),256))]))}});var k=M(Le,[["__scopeId","data-v-03023763"]]);const Be=["onSubmit"],Ce={class:"btn-flat-secondary",type:"submit"},Ve=$({__name:"LoginForm",setup(t){const o=J(),s=Q(),r=X(),e=Y(),i=le(),n=Z({email:"",password:""}),b=x(()=>({email:{required:i.required,email:i.email},password:{required:i.required}})),d=w({}),m=se(b,n,{$autoDirty:!0,$externalResults:d}),u=async()=>{var _;if(!await m.value.$validate())return;r.setIsGlobalSpinnerShown(!0);const v=await s.login(n);if(v instanceof te.AxiosError){const c=((_=v.response)==null?void 0:_.data).fields;for(const l in c)if(c.hasOwnProperty(l)){const h=l;c[h]=e.t("auth.validator."+c[h])}d.value=c}else{const c="/";o.push(c)}r.setIsGlobalSpinnerShown(!1)};return(a,v)=>(P(),R("form",{class:"flex flex-col gap-5",onSubmit:ee(u,["prevent"])},[p(k,{validation:f(m).email,placeholder:a.$t("auth.email"),type:"email"},null,8,["validation","placeholder"]),p(k,{validation:f(m).password,placeholder:a.$t("auth.password"),type:"password"},null,8,["validation","placeholder"]),g("button",Ce,T(a.$t("auth.logIn")),1)],40,Be))}}),Me=g("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ne={class:"fixed inset-0 overflow-y-auto"},je={class:"flex min-h-full items-center justify-center p-4 text-center"},ze={class:"mt-2"},Ue={class:"text-sm text-gray-500 dark:text-gray-400"},Ge={class:"mt-4"},Ke=$({__name:"InfoModal",props:{isOpen:{type:Boolean}},setup(t){return(o,s)=>(P(),ae(f(xe),{appear:"",show:t.isOpen,as:"template"},{default:y(()=>[p(f(ye),{as:"div",onClose:s[1]||(s[1]=r=>o.$emit("close")),class:"relative z-10"},{default:y(()=>[p(f(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:y(()=>[Me]),_:1}),g("div",Ne,[g("div",je,[p(f(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:y(()=>[p(f(_e),{class:"w-full max-w-md transform overflow-hidden rounded-3xl bg-white dark:bg-dark p-6 text-left align-middle shadow-xl transition-all"},{default:y(()=>[p(f(ge),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 dark:text-gray-200"},{default:y(()=>[C(o.$slots,"header")]),_:3}),g("div",ze,[g("p",Ue,[C(o.$slots,"content")])]),g("div",Ge,[g("button",{type:"button",class:"btn-info text-sm focus:ring-0",onClick:s[0]||(s[0]=r=>o.$emit("close"))},[C(o.$slots,"close-button",{},()=>[L("Close")])])])]),_:3})]),_:3})])])]),_:3})]),_:3},8,["show"]))}});const We=t=>(me("data-v-d3540250"),t=t(),he(),t),He=["onSubmit"],Je=We(()=>g("div",{class:"separator"},null,-1)),Qe={class:"btn-flat-secondary",type:"submit"},Xe=$({__name:"RegistrationForm",setup(t){J();const o=Q(),s=X(),r=Y(),e=le(),i=Z({email:"",password:"",confirmPassword:"",name:"",surname:"",skills:"",role:we.USER}),n=x(()=>({email:{required:e.required,email:e.email},password:{required:e.required,minLength:e.minLength(6),maxLength:e.maxLength(32)},confirmPassword:{required:e.required,sameAs:e.sameAs(i.password,r.t("auth.password").toLowerCase())},name:{required:e.required},surname:{required:e.required},skills:{requiredIf:e.required}})),b=w({}),d=se(n,i,{$autoDirty:!0,$externalResults:b}),m=w(!1),u=async()=>{var _;if(!await d.value.$validate())return;s.setIsGlobalSpinnerShown(!0);const v=await o.register(i);if(v instanceof te.AxiosError){const c=((_=v.response)==null?void 0:_.data).fields;for(const l in c)if(c.hasOwnProperty(l)){const h=l;c[h]=r.t("auth.validator."+c[h])}b.value=c}else m.value=!0;s.setIsGlobalSpinnerShown(!1)};return(a,v)=>(P(),R("form",{class:"flex flex-col gap-5",onSubmit:ee(u,["prevent"])},[p(k,{validation:f(d).email,placeholder:a.$t("auth.email"),type:"email"},null,8,["validation","placeholder"]),p(k,{validation:f(d).password,placeholder:a.$t("auth.password"),type:"password"},null,8,["validation","placeholder"]),p(k,{validation:f(d).confirmPassword,placeholder:a.$t("auth.confirmPassword"),type:"password"},null,8,["validation","placeholder"]),Je,p(k,{validation:f(d).name,placeholder:a.$t("auth.name")},null,8,["validation","placeholder"]),p(k,{validation:f(d).surname,placeholder:a.$t("auth.surname")},null,8,["validation","placeholder"]),p(k,{validation:f(d).skills,placeholder:a.$t("auth.skills")},null,8,["validation","placeholder"]),g("button",Qe,T(a.$t("auth.signUp")),1),p(Ke,{isOpen:m.value,onClose:v[0]||(v[0]=_=>m.value=!1)},{header:y(()=>[L(T(a.$t("auth.activationModal.header")),1)]),content:y(()=>[L(T(a.$t("auth.activationModal.content")),1)]),"close-button":y(()=>[L(T(a.$t("modal.closeInfo")),1)]),_:1},8,["isOpen"])],40,He))}});var Ye=M(Xe,[["__scopeId","data-v-d3540250"]]);const Ze={class:"outer"},et=$({__name:"AuthorizationView",setup(t){const o=w(["auth.authorization","auth.registration"]);return(s,r)=>(P(),R("div",Ze,[p(f(Ae),null,{default:y(()=>[p(f(Oe),{class:"bg-white dark:bg-gray-900/50 rounded-3xl p-3"},{default:y(()=>[p(f(Re),{class:"flex mb-10 flex-col md:flex-row gap-2"},{default:y(()=>[(P(!0),R(V,null,H(o.value,e=>(P(),ae(f(qe),{as:"template",key:e},{default:y(({selected:i})=>[g("button",{class:W(["tab-btn shadow focus:outline-none w-full rounded-3xl py-4 text-md font-semibold leading-5",i?"bg-gray-200 dark:bg-light/75 text-gray-600":"text-primary/80 dark:text-light"])},T(s.$t(e)),3)]),_:2},1024))),128))]),_:1}),p(f(U),{class:"mb-5"},{default:y(()=>[p(Ve)]),_:1}),p(f(U),{class:"mb-5"},{default:y(()=>[p(Ye)]),_:1})]),_:1})]),_:1})]))}});var ot=M(et,[["__scopeId","data-v-180044c3"]]);export{ot as default};
