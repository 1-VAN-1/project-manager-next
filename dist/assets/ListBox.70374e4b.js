import{r as k,b as y,d as D,p as ie,h as M,F as $,e as z,f as se,J as re,w as ue,O as _,i as de,Y as L,_ as ve,Q as K,o as N,A as H,B as T,a as B,s as C,x as F,C as Q,Z as q,$ as J,D as W,t as Y,R as ce,c as Z,j as pe,n as G,U as fe,K as be}from"./index.7ffa0279.js";import{u as I,y as me,j as xe,F as ge,o as h,i as he,l as U,f as ye,V as Oe,a as Se,P as j,w as ee,t as E,b as ke,p as Le,R as X,k as we,c as g}from"./hidden.f8f3ff5c.js";function Re(t){throw new Error("Unexpected object: "+t)}var O=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(O||{});function Ve(t,o){let l=o.resolveItems();if(l.length<=0)return null;let r=o.resolveActiveIndex(),e=r!=null?r:-1,v=(()=>{switch(t.focus){case 0:return l.findIndex(n=>!o.resolveDisabled(n));case 1:{let n=l.slice().reverse().findIndex((d,c,m)=>e!==-1&&m.length-c-1>=e?!1:!o.resolveDisabled(d));return n===-1?n:l.length-1-n}case 2:return l.findIndex((n,d)=>d<=e?!1:!o.resolveDisabled(n));case 3:{let n=l.slice().reverse().findIndex(d=>!o.resolveDisabled(d));return n===-1?n:l.length-1-n}case 4:return l.findIndex(n=>o.resolveId(n)===t.id);case 5:return null;default:Re(t)}})();return v===-1?r:v}function te(t={},o=null,l=[]){for(let[r,e]of Object.entries(t))le(l,ae(o,r),e);return l}function ae(t,o){return t?t+"["+o+"]":o}function le(t,o,l){if(Array.isArray(l))for(let[r,e]of l.entries())le(t,ae(o,r.toString()),e);else l instanceof Date?t.push([o,l.toISOString()]):typeof l=="boolean"?t.push([o,l?"1":"0"]):typeof l=="string"?t.push([o,l]):typeof l=="number"?t.push([o,`${l}`]):l==null?t.push([o,""]):te(l,o,t)}function _e(t,o,l){let r=k(l==null?void 0:l.value),e=y(()=>t.value!==void 0);return[y(()=>e.value?t.value:r.value),function(v){return e.value||(r.value=v),o==null?void 0:o(v)}]}function Ie(t,o){return t===o}var Pe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Pe||{}),De=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(De||{}),Te=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Te||{});function Be(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let oe=Symbol("ListboxContext");function A(t){let o=de(oe,null);if(o===null){let l=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,A),l}return o}let Ce=D({name:"Listbox",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Ie},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:o,attrs:l,emit:r}){let e=k(1),v=k(null),n=k(null),d=k(null),c=k([]),m=k(""),a=k(null),i=k(1);function w(s=u=>u){let u=a.value!==null?c.value[a.value]:null,p=we(s(c.value.slice()),S=>h(S.dataRef.domRef)),b=u?p.indexOf(u):null;return b===-1&&(b=null),{options:p,activeOptionIndex:b}}let R=y(()=>t.multiple?1:0),[V,f]=_e(y(()=>t.modelValue),s=>r("update:modelValue",s),y(()=>t.defaultValue)),x={listboxState:e,value:V,mode:R,compare(s,u){if(typeof t.by=="string"){let p=t.by;return(s==null?void 0:s[p])===(u==null?void 0:u[p])}return t.by(s,u)},orientation:y(()=>t.horizontal?"horizontal":"vertical"),labelRef:v,buttonRef:n,optionsRef:d,disabled:y(()=>t.disabled),options:c,searchQuery:m,activeOptionIndex:a,activationTrigger:i,closeListbox(){t.disabled||e.value!==1&&(e.value=1,a.value=null)},openListbox(){t.disabled||e.value!==0&&(e.value=0)},goToOption(s,u,p){if(t.disabled||e.value===1)return;let b=w(),S=Ve(s===O.Specific?{focus:O.Specific,id:u}:{focus:s},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:P=>P.id,resolveDisabled:P=>P.dataRef.disabled});m.value="",a.value=S,i.value=p!=null?p:1,c.value=b.options},search(s){if(t.disabled||e.value===1)return;let u=m.value!==""?0:1;m.value+=s.toLowerCase();let p=(a.value!==null?c.value.slice(a.value+u).concat(c.value.slice(0,a.value+u)):c.value).find(S=>S.dataRef.textValue.startsWith(m.value)&&!S.dataRef.disabled),b=p?c.value.indexOf(p):-1;b===-1||b===a.value||(a.value=b,i.value=1)},clearSearch(){t.disabled||e.value!==1&&m.value!==""&&(m.value="")},registerOption(s,u){let p=w(b=>[...b,{id:s,dataRef:u}]);c.value=p.options,a.value=p.activeOptionIndex},unregisterOption(s){let u=w(p=>{let b=p.findIndex(S=>S.id===s);return b!==-1&&p.splice(b,1),p});c.value=u.options,a.value=u.activeOptionIndex,i.value=1},select(s){t.disabled||f(I(R.value,{[0]:()=>s,[1]:()=>{let u=L(x.value.value).slice(),p=L(s),b=u.findIndex(S=>x.compare(p,L(S)));return b===-1?u.push(p):u.splice(b,1),u}}))}};return me([n,d],(s,u)=>{var p;x.closeListbox(),xe(u,ge.Loose)||(s.preventDefault(),(p=h(n))==null||p.focus())},y(()=>e.value===0)),ie(oe,x),he(y(()=>I(e.value,{[0]:U.Open,[1]:U.Closed}))),()=>{let{name:s,modelValue:u,disabled:p,...b}=t,S={open:e.value===0,disabled:p,value:V.value};return M($,[...s!=null&&V.value!=null?te({[s]:V.value}).map(([P,ne])=>M(ye,Oe({features:Se.Hidden,key:P,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:P,value:ne}))):[],j({ourProps:{},theirProps:{...l,...ee(b,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:S,slots:o,attrs:l,name:"Listbox"})])}}});D({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(t,{attrs:o,slots:l}){let r=A("ListboxLabel"),e=`headlessui-listbox-label-${E()}`;function v(){var n;(n=h(r.buttonRef))==null||n.focus({preventScroll:!0})}return()=>{let n={open:r.listboxState.value===0,disabled:r.disabled.value},d={id:e,ref:r.labelRef,onClick:v};return j({ourProps:d,theirProps:t,slot:n,attrs:o,slots:l,name:"ListboxLabel"})}}});let je=D({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(t,{attrs:o,slots:l,expose:r}){let e=A("ListboxButton"),v=`headlessui-listbox-button-${E()}`;r({el:e.buttonRef,$el:e.buttonRef});function n(a){switch(a.key){case g.Space:case g.Enter:case g.ArrowDown:a.preventDefault(),e.openListbox(),_(()=>{var i;(i=h(e.optionsRef))==null||i.focus({preventScroll:!0}),e.value.value||e.goToOption(O.First)});break;case g.ArrowUp:a.preventDefault(),e.openListbox(),_(()=>{var i;(i=h(e.optionsRef))==null||i.focus({preventScroll:!0}),e.value.value||e.goToOption(O.Last)});break}}function d(a){switch(a.key){case g.Space:a.preventDefault();break}}function c(a){e.disabled.value||(e.listboxState.value===0?(e.closeListbox(),_(()=>{var i;return(i=h(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})})):(a.preventDefault(),e.openListbox(),Be(()=>{var i;return(i=h(e.optionsRef))==null?void 0:i.focus({preventScroll:!0})})))}let m=ke(y(()=>({as:t.as,type:o.type})),e.buttonRef);return()=>{var a,i;let w={open:e.listboxState.value===0,disabled:e.disabled.value,value:e.value.value},R={ref:e.buttonRef,id:v,type:m.value,"aria-haspopup":!0,"aria-controls":(a=h(e.optionsRef))==null?void 0:a.id,"aria-expanded":e.disabled.value?void 0:e.listboxState.value===0,"aria-labelledby":e.labelRef.value?[(i=h(e.labelRef))==null?void 0:i.id,v].join(" "):void 0,disabled:e.disabled.value===!0?!0:void 0,onKeydown:n,onKeyup:d,onClick:c};return j({ourProps:R,theirProps:t,slot:w,attrs:o,slots:l,name:"ListboxButton"})}}}),Ae=D({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(t,{attrs:o,slots:l,expose:r}){let e=A("ListboxOptions"),v=`headlessui-listbox-options-${E()}`,n=k(null);r({el:e.optionsRef,$el:e.optionsRef});function d(a){switch(n.value&&clearTimeout(n.value),a.key){case g.Space:if(e.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),e.search(a.key);case g.Enter:if(a.preventDefault(),a.stopPropagation(),e.activeOptionIndex.value!==null){let i=e.options.value[e.activeOptionIndex.value];e.select(i.dataRef.value)}e.mode.value===0&&(e.closeListbox(),_(()=>{var i;return(i=h(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})}));break;case I(e.orientation.value,{vertical:g.ArrowDown,horizontal:g.ArrowRight}):return a.preventDefault(),a.stopPropagation(),e.goToOption(O.Next);case I(e.orientation.value,{vertical:g.ArrowUp,horizontal:g.ArrowLeft}):return a.preventDefault(),a.stopPropagation(),e.goToOption(O.Previous);case g.Home:case g.PageUp:return a.preventDefault(),a.stopPropagation(),e.goToOption(O.First);case g.End:case g.PageDown:return a.preventDefault(),a.stopPropagation(),e.goToOption(O.Last);case g.Escape:a.preventDefault(),a.stopPropagation(),e.closeListbox(),_(()=>{var i;return(i=h(e.buttonRef))==null?void 0:i.focus({preventScroll:!0})});break;case g.Tab:a.preventDefault(),a.stopPropagation();break;default:a.key.length===1&&(e.search(a.key),n.value=setTimeout(()=>e.clearSearch(),350));break}}let c=Le(),m=y(()=>c!==null?c.value===U.Open:e.listboxState.value===0);return()=>{var a,i,w,R;let V={open:e.listboxState.value===0},f={"aria-activedescendant":e.activeOptionIndex.value===null||(a=e.options.value[e.activeOptionIndex.value])==null?void 0:a.id,"aria-multiselectable":e.mode.value===1?!0:void 0,"aria-labelledby":(R=(i=h(e.labelRef))==null?void 0:i.id)!=null?R:(w=h(e.buttonRef))==null?void 0:w.id,"aria-orientation":e.orientation.value,id:v,onKeydown:d,role:"listbox",tabIndex:0,ref:e.optionsRef};return j({ourProps:f,theirProps:t,slot:V,attrs:o,slots:l,features:X.RenderStrategy|X.Static,visible:m.value,name:"ListboxOptions"})}}}),Ne=D({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(t,{slots:o,attrs:l,expose:r}){let e=A("ListboxOption"),v=`headlessui-listbox-option-${E()}`,n=k(null);r({el:n,$el:n});let d=y(()=>e.activeOptionIndex.value!==null?e.options.value[e.activeOptionIndex.value].id===v:!1),c=y(()=>I(e.mode.value,{[0]:()=>e.compare(L(e.value.value),L(t.value)),[1]:()=>L(e.value.value).some(f=>e.compare(L(f),L(t.value)))})),m=y(()=>I(e.mode.value,{[1]:()=>{var f;let x=L(e.value.value);return((f=e.options.value.find(s=>x.some(u=>e.compare(L(u),L(s.dataRef.value)))))==null?void 0:f.id)===v},[0]:()=>c.value})),a=y(()=>({disabled:t.disabled,value:t.value,textValue:"",domRef:n}));z(()=>{var f,x;let s=(x=(f=h(n))==null?void 0:f.textContent)==null?void 0:x.toLowerCase().trim();s!==void 0&&(a.value.textValue=s)}),z(()=>e.registerOption(v,a)),se(()=>e.unregisterOption(v)),z(()=>{re([e.listboxState,c],()=>{e.listboxState.value===0&&(!c.value||I(e.mode.value,{[1]:()=>{m.value&&e.goToOption(O.Specific,v)},[0]:()=>{e.goToOption(O.Specific,v)}}))},{immediate:!0})}),ue(()=>{e.listboxState.value===0&&(!d.value||e.activationTrigger.value!==0&&_(()=>{var f,x;return(x=(f=h(n))==null?void 0:f.scrollIntoView)==null?void 0:x.call(f,{block:"nearest"})}))});function i(f){if(t.disabled)return f.preventDefault();e.select(t.value),e.mode.value===0&&(e.closeListbox(),_(()=>{var x;return(x=h(e.buttonRef))==null?void 0:x.focus({preventScroll:!0})}))}function w(){if(t.disabled)return e.goToOption(O.Nothing);e.goToOption(O.Specific,v)}function R(){t.disabled||d.value||e.goToOption(O.Specific,v,0)}function V(){t.disabled||!d.value||e.goToOption(O.Nothing)}return()=>{let{disabled:f}=t,x={active:d.value,selected:c.value,disabled:f},s={id:v,ref:n,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:i,onFocus:w,onPointermove:R,onMousemove:R,onPointerleave:V,onMouseleave:V};return j({ourProps:s,theirProps:ee(t,["value","disabled"]),slot:x,attrs:l,slots:o,name:"ListboxOption"})}}});const Fe={class:"relative mt-1"},Ee={class:"block truncate"},ze={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},Ue={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-secondary"},Me=D({__name:"ListBox",props:{items:null,modelValue:null},emits:["update:modelValue"],setup(t,{emit:o}){const l=r=>{o("update:modelValue",r)};return(r,e)=>{const v=K("b-icon-chevron-expand"),n=K("b-icon-check-lg");return N(),H(F(Ce),{modelValue:t.modelValue,"onUpdate:modelValue":e[0]||(e[0]=d=>be(modelValue)?modelValue.value=d:null)},{default:T(()=>[B("div",Fe,[C(F(je),{class:"listbox-btn relative w-full cursor-pointer rounded-xl bg-white dark:bg-gray-800 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-900 py-2 pl-3 pr-10 text-left shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:T(()=>[B("span",Ee,[Q(r.$slots,"title",q(J({modelValue:t.modelValue})),()=>[W(Y(t.modelValue),1)],!0)]),B("span",ze,[C(v,{class:"h-5 w-5 text-gray-400"})])]),_:3}),C(ce,{"enter-active-class":"transition-transform ease-out duration-100","enter-from-class":"transition-transform opacity-0 scale-95","enter-to-class":"transition-transform opacity-100 scale-100","leave-active-class":"transition-transform ease-in duration-75","leave-from-class":"transition-transform opacity-100 scale-100","leave-to-class":"transition-transform opacity-0 scale-95"},{default:T(()=>[C(F(Ae),{class:"z-20 absolute mt-1 max-h-60 w-full overflow-auto rounded-2xl bg-white dark:bg-dark text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:T(()=>[(N(!0),Z($,null,pe(t.items,(d,c)=>(N(),H(F(Ne),{value:d,key:d,as:"template",onClick:m=>l(d)},{default:T(({active:m,selected:a})=>[B("li",{class:G(["unselectable cursor-pointer relative py-2 pl-10 pr-4",[m?"bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-gray-200 ":"text-gray-700 dark:text-gray-400",c===0?"rounded-t-2xl":"",c===t.items.length-1?"rounded-b-2xl":""]])},[B("span",{class:G([a?"font-medium":"font-normal","block truncate"])},[Q(r.$slots,"item",q(J({item:d})),()=>[W(Y(d),1)],!0)],2),a?(N(),Z("span",Ue,[C(n,{class:"h-5 w-5","aria-hidden":"true"})])):fe("",!0)],2)]),_:2},1032,["value","onClick"]))),128))]),_:3})]),_:3})])]),_:3},8,["modelValue"])}}});var Qe=ve(Me,[["__scopeId","data-v-76c8a08d"]]);export{Qe as L,O as a,Ve as x};
